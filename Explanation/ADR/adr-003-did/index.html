
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>ADR 003: DID - Elesto Documentation Portal</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Asap:300,300i,400,400i,700,700i%7CShare+Tech+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Asap";--md-code-font:"Share Tech Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adr-003-did" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Elesto Documentation Portal" class="md-header__button md-logo" aria-label="Elesto Documentation Portal" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Elesto Documentation Portal
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ADR 003: DID
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/elesto-dao/elesto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Elesto Documentation Portal" class="md-nav__button md-logo" aria-label="Elesto Documentation Portal" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Elesto Documentation Portal
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/elesto-dao/elesto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Elesto
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../ABOUT/" class="md-nav__link">
        About Documentation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Explanation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Explanation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Explanation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        About Explanation Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/" class="md-nav__link">
        Presentations
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          ADR
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ADR" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          ADR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        About Architecture Decision Records (ADRs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PROCESS/" class="md-nav__link">
        ADR Creation Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-002-did/" class="md-nav__link">
        ADR 002: DID
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-002-docs-structure/" class="md-nav__link">
        ADR 002: Documentation Structure
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ADR 003: DID
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ADR 003: DID
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    Decision
  </a>
  
    <nav class="md-nav" aria-label="Decision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-method-name" class="md-nav__link">
    DID Method Name
  </a>
  
    <nav class="md-nav" aria-label="DID Method Name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-specific-identifier" class="md-nav__link">
    Method Specific Identifier
  </a>
  
    <nav class="md-nav" aria-label="Method Specific Identifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-operations" class="md-nav__link">
    DID Operations
  </a>
  
    <nav class="md-nav" aria-label="DID Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolve-and-verify" class="md-nav__link">
    Resolve and Verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deactivate" class="md-nav__link">
    Deactivate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-specific-properties" class="md-nav__link">
    Method-Specific Properties
  </a>
  
    <nav class="md-nav" aria-label="Method-Specific Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-core-verification-material" class="md-nav__link">
    DID Core Verification Material
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verification-relationships" class="md-nav__link">
    Verification Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-document-metadata" class="md-nav__link">
    DID Document Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-resolution-metadata" class="md-nav__link">
    DID Resolution Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-url-syntax" class="md-nav__link">
    DID URL Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-query-parameters" class="md-nav__link">
    DID Query Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#privacy-considerations" class="md-nav__link">
    Privacy Considerations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    Security Considerations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    Consequences
  </a>
  
    <nav class="md-nav" aria-label="Consequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backwards-compatibility" class="md-nav__link">
    Backwards Compatibility
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positive" class="md-nav__link">
    Positive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative" class="md-nav__link">
    Negative
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neutral" class="md-nav__link">
    Neutral
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-discussions" class="md-nav__link">
    Further Discussions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-cases-optional" class="md-nav__link">
    Test Cases [optional]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-004-light-client-resolver/" class="md-nav__link">
        ADR 004: Light Client resolver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-005-ibc-enabled-dids/" class="md-nav__link">
        IBC-enabled DIDs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-006-public-verifiable-credential/" class="md-nav__link">
        ADR 006: Verifiable Credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-007-revocation-lists/" class="md-nav__link">
        ADR 007: Revocation Lists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-008-inflation/" class="md-nav__link">
        ADR 008: Inflation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adr-template/" class="md-nav__link">
        ADR Template
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Articles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Articles" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Articles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../articles/" class="md-nav__link">
        About Articles
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4_2" type="checkbox" id="__nav_3_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4_2">
          Regulation paper
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Regulation paper" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_4_2">
          <span class="md-nav__icon md-icon"></span>
          Regulation paper
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4_2_1" type="checkbox" id="__nav_3_4_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4_2_1">
          Rpts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Rpts" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          Rpts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../articles/regulation-paper/rpts/CosmosCashRegs/" class="md-nav__link">
        Elesto
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_5">
          Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Topics" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/Compare%20USDC%20vs%20USDT%20vs%20CASH-ISSUER/" class="md-nav__link">
        USDC vs USDT vs Cosmos Cash Issuer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          How To
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How To" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How To
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../How-To/" class="md-nav__link">
        How-to guides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../How-To/chain_001_faucet/" class="md-nav__link">
        Get Testnet Tokens (Faucet)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../How-To/chain_002_key_management/" class="md-nav__link">
        Manage Keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../How-To/chain_003_network_upgrade/" class="md-nav__link">
        Network upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../How-To/general_001_swagger/" class="md-nav__link">
        Swagger
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Networks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Networks" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Networks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Networks/node/" class="md-nav__link">
        Install an Elesto Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Networks/testnet/" class="md-nav__link">
        Joining Testnet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Reference/" class="md-nav__link">
        Reference Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Reference/GLOSSARY/" class="md-nav__link">
        GLOSSARY
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Reference/MODULES/" class="md-nav__link">
        Elesto Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Architecture" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Reference/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Reference/architecture/CONTRIBUTING/" class="md-nav__link">
        CONTRIBUTING
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    Decision
  </a>
  
    <nav class="md-nav" aria-label="Decision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-method-name" class="md-nav__link">
    DID Method Name
  </a>
  
    <nav class="md-nav" aria-label="DID Method Name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-specific-identifier" class="md-nav__link">
    Method Specific Identifier
  </a>
  
    <nav class="md-nav" aria-label="Method Specific Identifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-operations" class="md-nav__link">
    DID Operations
  </a>
  
    <nav class="md-nav" aria-label="DID Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolve-and-verify" class="md-nav__link">
    Resolve and Verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deactivate" class="md-nav__link">
    Deactivate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-specific-properties" class="md-nav__link">
    Method-Specific Properties
  </a>
  
    <nav class="md-nav" aria-label="Method-Specific Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#did-core-verification-material" class="md-nav__link">
    DID Core Verification Material
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verification-relationships" class="md-nav__link">
    Verification Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-document-metadata" class="md-nav__link">
    DID Document Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-resolution-metadata" class="md-nav__link">
    DID Resolution Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-url-syntax" class="md-nav__link">
    DID URL Syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#did-query-parameters" class="md-nav__link">
    DID Query Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#privacy-considerations" class="md-nav__link">
    Privacy Considerations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    Security Considerations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    Consequences
  </a>
  
    <nav class="md-nav" aria-label="Consequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backwards-compatibility" class="md-nav__link">
    Backwards Compatibility
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positive" class="md-nav__link">
    Positive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative" class="md-nav__link">
    Negative
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neutral" class="md-nav__link">
    Neutral
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-discussions" class="md-nav__link">
    Further Discussions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-cases-optional" class="md-nav__link">
    Test Cases [optional]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/elesto-dao/elesto/edit/master/docs/Explanation/ADR/adr-003-did.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="adr-003-did">ADR 003: DID</h1>
<h2 id="changelog">Changelog</h2>
<ul>
<li>2022-02-14: Moved to last call</li>
<li>2022-02-14: Renamed to ADR002</li>
<li>2021-09-23: Added security and privacy considerations</li>
<li>2021-08-02: Initial draft</li>
</ul>
<h2 id="status">Status</h2>
<p>LAST CALL 2022-02-28</p>
<h2 id="abstract">Abstract</h2>
<p><a href="https://www.w3.org/TR/did-core/">Decentralized identifiers</a> (DIDs) are a type of identifier that enables verifiable, decentralized digital identity. A DID refer to any subject (for example, a person, organization, thing, data model, abstract entity, and so on) as determined by the controller of the DID.</p>
<p>This document specifies the DID method for a Cosmos SDK-based implementation of the W3C recommendation, its properties, operations, and an explanation of the process to resolve DIDs to the resources they represent.</p>
<h2 id="context">Context</h2>
<p>The Elesto project aims to provide a state-of-the-art platform for the hosting of collateralized stable coins that is compliant with:</p>
<ul>
<li>EU regulations such as General Data Protection Regulation (GDPR) and Markets in Crypto-Assets (MiCA)</li>
<li>International recommendations such as the Financial Action Task Force (FATF) "Travel Rule"</li>
<li>Local anti-money laundering (AML) regulations</li>
</ul>
<p>The Elesto platform is based on the following principles:</p>
<ul>
<li>Open financial infrastructure is a public good</li>
<li>Money laundering prevention also benefits society</li>
<li>Users benefit from a strict privacy-respecting approach (GDPR)</li>
</ul>
<p>The self-sovereign identity (SSI) approach to tackling the identity and privacy challenge has gained momentum in recent years. Coupled with distributed ledger technology (DLT) technology, the SSI approach has captured the attention of both the private and public sectors.</p>
<p>The SSI approach relies on two building blocks: decentralized identifiers (DID) and verifiable credentials (VC). This architecture decision record (ADR) describes the DID implementation in a Cosmos SDK-based blockchain.</p>
<p>This ADR aims to define a foundation for the necessary components to realize the Elesto objectives while ensuring the implementation of the DID is fully compliant with the W3C specifications. <strong>Successive iterations will address API ergonomics and standard compatibility issues.</strong></p>
<h2 id="decision">Decision</h2>
<p>The Elesto implementation for DIDs will follow the <a href="https://www.w3.org/TR/2021/PR-did-core-20210803/">DID W3C core recommendations</a> to maximize compatibility with 3rd party tools and projects.</p>
<h3 id="did-method-name">DID Method Name</h3>
<p>The namestring that shall identify the Elesto DID method is: <code>cosmos</code>.</p>
<p>A DID that uses the Elesto method MUST begin with the following prefix: <code>did:cosmos</code>. Per the <a href="https://www.w3.org/TR/2021/PR-did-core-20210803/">W3C DID specification</a>, this prefix string MUST be in lowercase. The remainder of the DID, after the prefix, is as follows:</p>
<h4 id="method-specific-identifier">Method Specific Identifier</h4>
<p>The namespace specific identifier is defined by the following ABNF:</p>
<div class="highlight"><pre><span></span><code><span class="nc">cosmos-did</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="l">&quot;did:cosmos:&quot;</span><span class="w"> </span><span class="nc">identifier-type</span><span class="w"></span>
<span class="nc">identifier-type</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nc">cosmos-key</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nc">unique-identifier</span><span class="w"></span>
<span class="nc">cosmos-key</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="l">&quot;key:&quot;</span><span class="w"> </span><span class="o">1*255</span><span class="nc">id-char</span><span class="w"> </span><span class="l">&quot;1&quot;</span><span class="w"> </span><span class="o">20*255</span><span class="k">HEXDIG</span><span class="w"></span>
<span class="nc">unique-identifier</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="o">38*255</span><span class="nc">id-char</span><span class="w"></span>
<span class="nc">id-char</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="k">ALPHA</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">DIGIT</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="k">ALPHA</span><span class="w"> </span><span class="l">&quot;-&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="k">DIGIT</span><span class="w"> </span><span class="l">&quot;-&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="k">ALPHA</span><span class="w"> </span><span class="l">&quot;:&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="k">DIGIT</span><span class="w"> </span><span class="l">&quot;:&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>For the <code>unique-identifier</code> it is RECOMMENDED to use a UUID.</p>
<p>The <code>identifier-type</code> distinguishes between two DID types:</p>
<ol>
<li>The <code>key</code> type, inspired from the <a href="https://w3c-ccg.github.io/did-method-key/"><code>did:key</code></a> method</li>
<li>The <code>unique-identifier</code> type that identifies the DID and the originating network of the DID</li>
</ol>
<p>DIDs of <code>key</code> type are ephemeral and immutable. DIDs of <code>key</code> type are always generated from the Cosmos blockchain address they refer to. For example, see this DID of <code>key</code> type:</p>
<ul>
<li><code>did:cosmos:key:elesto1ts9ejqg7k4ht2sm53hycty875362yqxqmt9grj</code></li>
</ul>
<p>DIDs of <code>net</code> type are persistent and mutable. DIDs of <code>net</code> type are stored in the node database and can be created and updated according to rules described in the <a href="#did-operations">DID Operations</a> section. For example, see this DID of <code>net</code> type:</p>
<ul>
<li><code>did:cosmos:elesto:806e557e-ecdb-4e80-ab0d-a82ad35c9ceb</code></li>
</ul>
<h5 id="did-operations">DID Operations</h5>
<p>DID and associated DID documents are managed by a Cosmos SDK module that uses the gRPC communication protocol. See <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#method-operations">Method operations</a> for details on how the create, read, update and delete (CRUD) operations are handed in a Cosmos DID.</p>
<h6 id="create">Create</h6>
<p>To create and publish a DID document use the message</p>
<div class="highlight"><pre><span></span><code><span class="nx">MsgCreateDidDocument</span><span class="p">(</span><span class="nx">id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">signerPubKey</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The message parameters are the DID to be created and the <code>signerPubKey</code>. The <code>signerPubKey</code> MUST be the public key of the account that signs the transaction. The public key MUST be used to attach a verification method of type <code>EcdsaSecp256k1VerificationKey2019</code> with the value of <code>publicKeyMultibase</code> that contains the public key encoded according to the Multibase Data Format <a href="https://datatracker.ietf.org/doc/html/draft-multiformats-multibase#appendix-B.1">Hexadecimal upper-case encoding</a>.</p>
<p>The verification method controller MUST be one of the following:</p>
<ul>
<li>The DID of the document</li>
<li>The DID of <code>key</code> type of the address that signs the transaction</li>
</ul>
<p>The verification method id SHOULD be generated as:</p>
<div class="highlight"><pre><span></span><code>{verificationMethodController}#{CosmosAddressFromPubKey}
</code></pre></div>
<p>The verification method id MUST be listed in the <code>authentication</code> relationships.</p>
<p>If the input DID is not a valid DID for the Cosmos method, or if the DID already exists on-chain, the message returns an error.</p>
<p>Contextually with the creation of a DID document, a <a href="#did-document-metadata">DID document metadata</a> MUST be created with the following values:</p>
<ul>
<li>The hash of the transaction as <code>versionId</code></li>
<li>The block time for the <code>created</code> and <code>updated</code> fields</li>
<li>The <code>deactivated</code> field is <code>false</code></li>
</ul>
<p>To address privacy concerns:</p>
<ul>
<li>Use an id that is different from the blockchain account address</li>
<li>Isolate the verification methods to the DID subject (for example, during key rotation)</li>
</ul>
<blockquote>
<p><strong>Note:</strong> A more fine-grained DID creation method can be implemented to save gas by executing a single transaction in a complex DID scenario.</p>
</blockquote>
<h6 id="resolve-and-verify">Resolve and Verify</h6>
<p>The underlying blockchain protocol guarantees the integrity of the DID documents stored on the ledger.</p>
<p>A DID can be resolved using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">QueryDidDocumentRequest</span><span class="p">(</span><span class="nx">did</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>This example shows a DID document that was resolved using the gRPC interface:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="s2">&quot;didDocument&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;context&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">&quot;https://www.w3.org/ns/did/v1&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;did:cosmos:elesto:900d82bc-2bfe-45a7-ab22-a8d11773568e&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;controller&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">&quot;did:cosmos:key:cosmos1sl48sj2jjed7enrv3lzzplr9wc2f5js5tzjph8&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;verificationMethod&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;controller&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;did:cosmos:elesto:900d82bc-2bfe-45a7-ab22-a8d11773568e&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;did:cosmos:elesto:900d82bc-2bfe-45a7-ab22-a8d11773568e#cosmos1x5hrv0hngmg8gls5cft7nphqs83njj25pwxpt0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;publicKeyMultibase&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;0248a5178d7a90ec187b3c3d533a4385db905f6fcdaac5026859ca5ef7b0b1c3b5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;EcdsaSecp256k1VerificationKey2019&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;authentication&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">&quot;did:cosmos:elesto:900d82bc-2bfe-45a7-ab22-a8d11773568e#cosmos1x5hrv0hngmg8gls5cft7nphqs83njj25pwxpt0&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<blockquote>
<p>Note: the DID document resolution following the <a href="https://www.w3.org/TR/2021/PR-did-core-20210803/">W3C DID core recommendations</a> and pass the <a href="https://w3c.github.io/did-test-suite/">DID Core Specification Test Suite</a> SHOULD be managed outside the node implementation, in a dedicated project.</p>
</blockquote>
<h6 id="update">Update</h6>
<p>A DID document can be updated only if it is persisted on-chain on-chain and must it is of subtype <code>net</code> and it's not in <code>deactivated</code> metadata property is set to <code>false</code>. The possible updates are the following:</p>
<ul>
<li>Add and remove controllers</li>
<li>Add and remove services</li>
<li>Add and revoke verification method</li>
<li>Set verification method relationships</li>
<li>Replace the DID document content</li>
</ul>
<p>The constraints on updating a DID document are <strong>one of</strong> the following:</p>
<ul>
<li>The <code>signerAccount</code> must exist as a verification method in a verification relationship of type <code>authentication</code></li>
<li>The <code>signerAccount</code> <code>key</code> DID is listed as a DID controller.</li>
</ul>
<p>Each update operation MUST update the <code>versionId</code> and the <code>updated</code> field of the associated <a href="#did-document-metadata">DID document metadata</a> with the transaction hash and the block time respectively.</p>
<p><strong>Add DID document controller</strong></p>
<p>Add DID document controllers using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">AddController</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgAddController</span><span class="p">{</span><span class="w"> </span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">ControllerDid</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The parameters are as follows:</p>
<ul>
<li><code>Id</code> identifies the DID document</li>
<li><code>Controller</code> the DID to be added as a controller</li>
<li><code>SignerAccount</code> is the account address that signs the transaction</li>
</ul>
<p>A controller of a DID document MUST be a DID of subtype <code>key</code>.</p>
<p><strong>Remove a DID document controller</strong></p>
<p>Remove DID document controllers using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">DeleteController</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgDeleteController</span><span class="p">{</span><span class="w"> </span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">ControllerDid</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The parameters are:</p>
<ul>
<li><code>Id</code> identifies the DID document</li>
<li><code>Controller</code> the DID to be removed from the controllers list</li>
<li><code>SignerAccount</code> is the account address that signs the transaction</li>
</ul>
<p><strong>Add a service</strong></p>
<p>A service MUST be an entity with the following properties:</p>
<ul>
<li><code>id</code>: a valid RFC3986 URI string.</li>
<li><code>type</code>: a non empty string.</li>
<li><code>serviceEndpoint</code>: a valid RFC3986 URI string.</li>
</ul>
<p>A service can be added using the gRPC method:</p>
<div class="highlight"><pre><span></span><code><span class="nx">AddService</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgAddService</span><span class="p">{</span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">ServiceData</span><span class="w"> </span><span class="nx">Service</span><span class="p">,</span><span class="w"> </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The parameters are:</p>
<ul>
<li><code>Id</code> identifies the DID document</li>
<li><code>ServiceData</code> contains the service definition as described above</li>
<li><code>SignerAccount</code> is the account address that signs the transaction</li>
</ul>
<p><strong>Remove a service</strong></p>
<p>A service can be deleted using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">DeleteService</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgDeleteService</span><span class="p">{</span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">ServiceID</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The parameters are as follows:</p>
<ul>
<li><code>Id</code> identifies the DID document</li>
<li><code>ServiceID</code> the id of the service to remove</li>
<li><code>SignerAccount</code> is the account address that signs the transaction</li>
</ul>
<p><strong>Verification methods and relationships</strong></p>
<p>A verification method and its relationships are manipulated via the <code>Verification</code> object with the following properties:</p>
<ul>
<li><code>method</code> a verification method as described in the <a href="https://www.w3.org/TR/2021/NOTE-did-spec-registries-20211102/#verificationmethod">W3C specification</a></li>
<li><code>relationships</code> a non-empty list of relationships associated to the verification method</li>
<li><code>context</code> a list of additional json-ld contexts to be added to the did document</li>
</ul>
<p><strong>Add a verification method</strong></p>
<p>Add a new verification method using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">AddVefication</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgAddVerification</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">Verification</span><span class="w"> </span><span class="nx">Verification</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The fields of the <code>MsgAddVerification</code> message are:</p>
<ul>
<li><code>Id</code> identifies the did document</li>
<li><code>Verification</code> the verification as described before</li>
<li><code>SignerAccount</code> is the account address that is signing the transaction</li>
</ul>
<p>The list of relationships must contain only valid <a href="#verification-relationships">verification relationships</a> names as defined in the DID document and MUST be non-empty.</p>
<p>The verification method id must be unique within the DID document.</p>
<p><strong>Remove a verification method</strong></p>
<p>Remove a verification method using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">RevokeVerification</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgRevokeVerification</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">      </span><span class="nx">MethodId</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">      </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The fields of the <code>MsgAddVerification</code> message are:</p>
<ul>
<li><code>Id</code> identifies the did document</li>
<li><code>MethodId</code> the verification method id to remove</li>
<li><code>SignerAccount</code> is the account address that is signing the transaction</li>
</ul>
<p><strong>Set verification method relationships</strong></p>
<p>Set the relationships of a verification method using the gRPC message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">SetVerificationRelationships</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgSetVerificationRelationships</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">Id</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">MethodId</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">Relationships</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The fields of the <code>MsgSetVerificationRelationships</code> message are:</p>
<ul>
<li><code>Id</code> identifies the did document</li>
<li><code>MethodId</code> identifies the method id to change the relationships for</li>
<li><code>Relationships</code> the list of relationships to set</li>
<li><code>SignerAccount</code> is the account address that is signing the transaction</li>
</ul>
<p>The list of relationships must contain only valid <a href="#verification-relationships">verification relationships</a> names as defined in the DID document and MUST be non-empty.</p>
<p><strong>Overwrite an existing DID document</strong></p>
<p>To completely replace the content of a DID document use the message:</p>
<div class="highlight"><pre><span></span><code><span class="nx">UpdateDidDocument</span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="nx">MsgUpdateDidDocument</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">Doc</span><span class="w"> </span><span class="nx">DidDocument</span><span class="w"></span>
<span class="w">      </span><span class="nx">SignerAccount</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>The fields of the <code>MsgSetVerificationRelationships</code> message are:</p>
<ul>
<li><code>Doc</code> the updated DID document</li>
<li><code>SignerAccount</code> is the account address that is signing the transaction</li>
</ul>
<p>The DID of the new DID document must match the existing document. All the validation rules also apply while replacing the document.</p>
<h6 id="deactivate">Deactivate</h6>
<p>Deactivation of a DID document is not currently supported</p>
<h3 id="method-specific-properties">Method-Specific Properties</h3>
<h4 id="did-core-verification-material">DID Core Verification Material</h4>
<p>The <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#verification-material">Verification Material</a> type MUST support:</p>
<ul>
<li>Type <code>EcdsaSecp256k1VerificationKey2019</code> with <code>pubKeyMultibase</code> to encode a Cosmos account public key in hexadecimal format</li>
<li>Type <code>CosmosAccountAddress</code> with <code>blockchainAccountID</code> to represent a Cosmos account</li>
</ul>
<p>Support for other verification materials can be added.</p>
<h4 id="verification-relationships">Verification Relationships</h4>
<p>The DID document MUST support the following <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#verification-relationships">verification relationships</a>:</p>
<ul>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#authentication"><code>authentication</code></a> - authorizes amends to the DID document</li>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#assertion"><code>assertionMethod</code></a></li>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#key-agreement"><code>keyAgreement</code></a></li>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#capability-invocation"><code>capabilityInvocation</code></a></li>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#capability-delegation"><code>capabilityDelegation</code></a></li>
</ul>
<h4 id="did-document-metadata">DID Document Metadata</h4>
<p>The implementation for <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#did-document-metadata">DID document metadata</a> MUST report the following properties for a DID document:</p>
<ul>
<li><code>created</code>: a <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">datetime</a> string of the creation date that is the UTC date associated with the block height when the DID document was submitted the first time</li>
<li><code>updated</code>: a <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">datetime</a> string of the last update date that is the UTC date associated with the block height when the DID document was submitted the last time</li>
<li><code>deactivated</code>: a boolean field that indicates if the DID document is <a href="#Deactivate">deactivated</a></li>
<li><code>versionId</code>: a hex-encoded BLAKE2b hash of the transaction that created or updated the DID</li>
</ul>
<h4 id="did-resolution-metadata">DID Resolution Metadata</h4>
<p>The <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#did-resolution-metadata">DID Resolution Metadata</a> is outside the scope of the gRPC interface and is not covered in this ADR.</p>
<h4 id="did-url-syntax">DID URL Syntax</h4>
<p>The <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#did-url-syntax">DID URL Syntax</a> is outside the scope of the gRPC interface and is not covered in this ADR.</p>
<h4 id="did-query-parameters">DID Query Parameters</h4>
<p>The <a href="https://www.w3.org/TR/2021/PR-did-core-20210803//#did-parameters">DID Query parameters</a> URL is outside the scope of the gRPC interface and is not covered in this ADR.</p>
<!--

The implementation MUST support the following query parameters:

- `versionId` - to retrieve a DID document with a specific version
- `versionTime` - to retrieve the version of the DID document valid at a specific time, the parameter MUST be a valid [datetime](https://www.w3.org/TR/xmlschema11-2/#dateTime).

The format for the queries is:
-->

<h2 id="privacy-considerations">Privacy Considerations</h2>
<p>When any data (for example, W3C Verifiable Credentials) is associated with Cosmos DIDs, sharing that data would also impose sharing the on-chain data graph (for example, transaction history) of the blockchain account that controls the DID.</p>
<p>Using personally identifiable information as DID Method-specific identifiers (for example, account name Alice) discloses personal information every time the DID is shared with a counterparty. This specification DOES NOT endorse the use of identifiers that correlate to human beings or other sensible subjects.</p>
<h2 id="security-considerations">Security Considerations</h2>
<p>Ephemeral DIDs (<code>did:cosmos:key</code> type) are generated based on blockchain addresses. If access to the authoritative keys for an account is lost, the DID's control and verifiable data issued by the DID is lost.</p>
<h2 id="consequences">Consequences</h2>
<p>The Cosmos ecosystem WILL HAVE a DID module compatible with the W3C standard and offers a high chance of compatibility with third-party components such as cloud and edge agents, resolvers, etc.</p>
<h3 id="backwards-compatibility">Backwards Compatibility</h3>
<p>This is a new module so backward compatibility is not a concern.</p>
<h3 id="positive">Positive</h3>
<ul>
<li>The ADR implementation provides the foundation for interoperability with the DID standard and the SSI identity approach.</li>
<li>Closely following the W3C standard gives the best chances of successful interoperability with third-party components.</li>
</ul>
<h3 id="negative">Negative</h3>
<ul>
<li>The implementation rigidly follows the W3C specification which leaves little room for extensibility. This approach might become an issue for wider adoption.</li>
</ul>
<h3 id="neutral">Neutral</h3>
<p>N/A</p>
<h2 id="further-discussions">Further Discussions</h2>
<p>While an ADR is in the DRAFT or PROPOSED stage, this section summarizes issues to be solved in future iterations. The issues summarized here can reference comments from a pull request discussion.
Later, this section can optionally list ideas or improvements the author or reviewers found during the analysis of this ADR.</p>
<ul>
<li>The <code>did:key</code> method specifies a key format that is different from the one used in this ADR. This ADR needs to be amended or follow a different approach.</li>
<li>The approach proposed is somewhat locked into the current implementation and will have to be revised in successive iterations.</li>
</ul>
<h2 id="test-cases-optional">Test Cases [optional]</h2>
<p>N/A</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://www.w3.org/TR/2021/PR-did-core-20210803/">DID Core v1.0</a></li>
<li><a href="https://w3c.github.io/did-spec-registries">DID Specification Registries (11 February 2022)</a></li>
</ul>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../adr-002-docs-structure/" class="md-footer__link md-footer__link--prev" aria-label="Previous: ADR 002: Documentation Structure" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              ADR 002: Documentation Structure
            </div>
          </div>
        </a>
      
      
        
        <a href="../adr-004-light-client-resolver/" class="md-footer__link md-footer__link--next" aria-label="Next: ADR 004: Light Client resolver" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              ADR 004: Light Client resolver
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.instant", "navigation.tracking", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>